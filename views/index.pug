doctype html 
html(lang="ja")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
      )
    link(rel="stylesheet" href="style.css")
    title Webpage-bookmarker
  body.container.overflow-scroll
    nav.navbar.fixed-top.bg-dark.border-bottom
      div.container-fluid
        h1.text-light.navbar-brand.mx-auto Webpage-bookmarker
        div.dropdown
          button.btn.btn-outline-light.dropdown-toggle(type="button" id="menu" data-bs-toggle="dropdown" aria-expanded="false") #{user}
          ul.dropdown-menu.dropdown-menu-end(aria-labelledby="menu")
            li
              a.dropdown-item(href="/logout") ログアウト
    form.container-fluid(action="/posts", method="post")
      div
        textarea(name="content" cols="40" rows="4")
        input(type="hidden" name="oneTimeToken" value=oneTimeToken)
        div.accordion(id="accordionExample")
          div.accordion-item
            p.accordion-header
              button.accordion-button.collapsed(type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne") 備考入力欄
            div.accordion-collapse.collapse(id="collapseOne" data-bs-parent="#accordionExample")
              div.accordion-body
                textarea.container-fluid(name="note" cols="40" rows="2")
      div
        button(type="submit") 送信
    h2 ページ一覧
    each post in posts
      - const isAuthenticated = (user === post.postedBy || user === 'admin')
      if isAuthenticated
        p 保存日時: #{post.createdAt}
        p.post-content #{post.content}
        p.post-note 備考: #{post.note}
        form(action="/posts/delete" method="post")
          input(type="hidden" name="id" value=post.id)
          input(type="hidden" name="oneTimeToken" value=oneTimeToken)
          button(type="submit") 削除
        hr

script(
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
  crossorigin="anonymous"
  )